[{"path":"https://inbo.github.io/esas/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Research Institute Nature Forest (INBO) Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://inbo.github.io/esas/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pieter Huybrechts. Author, maintainer.            Research Institute Nature Forest (INBO) Nicolas Vanermen. Author.            Research Institute Nature Forest (INBO) Robin Daelemans. Contributor.            Research Institute Nature Forest (INBO) Peter Desmet. Contributor.            Research Institute Nature Forest (INBO) Research Institute Nature Forest (INBO). Copyright holder. European Union. Funder.           https://doi.org/10.3030/101112823","code":""},{"path":"https://inbo.github.io/esas/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Huybrechts P, Vanermen N (2025). esas: Read Process Data European Seabirds Sea. R package version 0.0.0.9000, https://github.com/inbo/esas.","code":"@Manual{,   title = {esas: Read and Process Data from European Seabirds At Sea},   author = {Pieter Huybrechts and Nicolas Vanermen},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://github.com/inbo/esas}, }"},{"path":[]},{"path":"https://inbo.github.io/esas/index.html","id":"goal","dir":"","previous_headings":"","what":"Goal","title":"Read and Process Data from European Seabirds At Sea","text":"R package goal lowering barrier prepare data upload ESAS database. Additionally, also provides functionality read data ESAS, well basic analysis functions. package starts 5 tables described ICES Data Model. works towards single table, expected ESAS Data Portal. ICES: International Council Exploration Sea hosts ESAS database (European Seabirds Sea). Inventory available data: https://esas.ices.dk/inventory Uploading ESAS happens single large csv file (‘mega table’), consists 5 tables ICES Data Model combined. Downloading ESAS returns 5 tables according ESAS data model.","code":""},{"path":"https://inbo.github.io/esas/index.html","id":"esas-data-model","dir":"","previous_headings":"","what":"ESAS Data Model","title":"Read and Process Data from European Seabirds At Sea","text":"https://esas-docs.ices.dk/","code":""},{"path":"https://inbo.github.io/esas/index.html","id":"id_5-tables","dir":"","previous_headings":"ESAS Data Model","what":"5 Tables","title":"Read and Process Data from European Seabirds At Sea","text":"tables also described DATSU. fields required. File information Campaign: Information campaign (= Survey) data collected Sample: Every Survey slightly different protocol, height platform dependent ship used. can also count plane. Position: platform moves sampling, positions midpoints calculated trajectory. Surveys counted set interval (eg 2 minutes), counts precise 2 minutes, position matched calculated midpoint interval. also records observations positions, like glare cloud cover. table location dependent. Observation: see time intervals: linked position PositionID. fields allow multiple values, combined ~. tables free text Notes field.","code":""},{"path":"https://inbo.github.io/esas/index.html","id":"ices-api","dir":"","previous_headings":"","what":"ICES API","title":"Read and Process Data from European Seabirds At Sea","text":"link: https://esas.ices.dk/webservices comment inbo/esas#2 API quite slow.","code":""},{"path":"https://inbo.github.io/esas/index.html","id":"functions","dir":"","previous_headings":"","what":"Functions","title":"Read and Process Data from European Seabirds At Sea","text":"inbo/esas#1","code":""},{"path":"https://inbo.github.io/esas/index.html","id":"read-data-from-esas","dir":"","previous_headings":"Functions","what":"Read data from ESAS","title":"Read and Process Data from European Seabirds At Sea","text":"read_esas() : empty stub function Read_ESAS_Tables() : Read data & convert ESAS ‘mega-table’, returns list ### Prepare data ESAS upload Transform_ESAS_Tables_4_Upload() : creates binded data.frame upload 5 tables Export_ESAS_Upload_Matrix() : creates tsv expected format upload returned data.frame Transform_ESAS_Tables_4_Upload()","code":""},{"path":"https://inbo.github.io/esas/index.html","id":"analysis-functions","dir":"","previous_headings":"Functions","what":"Analysis functions","title":"Read and Process Data from European Seabirds At Sea","text":"Create_ESAS_Table() create combined table input analysis functions Calculate_Detection_P_Ship_Based_Surveys() Create_Seabird_Density_Cross_Table()","code":""},{"path":"https://inbo.github.io/esas/index.html","id":"example-scripts","dir":"","previous_headings":"","what":"Example Scripts","title":"Read and Process Data from European Seabirds At Sea","text":"ESAS functions example Execute distance analysis.R ESAS functions example Prepare upload.R","code":""},{"path":"https://inbo.github.io/esas/reference/Calculate_Detection_P_Ship_Based_Surveys.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute distance analysis on ship-based survey results — Calculate_Detection_P_Ship_Based_Surveys","title":"Execute distance analysis on ship-based survey results — Calculate_Detection_P_Ship_Based_Surveys","text":"function calculates detection probabilities specified species ship-based survey data using distance sampling methods. filters input data relevant observations, fits half-normal hazard-rate models, selects best model based AIC values. output data frame containing species names, selected model function, average detection probability.","code":""},{"path":"https://inbo.github.io/esas/reference/Calculate_Detection_P_Ship_Based_Surveys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute distance analysis on ship-based survey results — Calculate_Detection_P_Ship_Based_Surveys","text":"","code":"Calculate_Detection_P_Ship_Based_Surveys(   esas_table_2_analyse,   species_2_analyse )"},{"path":"https://inbo.github.io/esas/reference/Calculate_Detection_P_Ship_Based_Surveys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute distance analysis on ship-based survey results — Calculate_Detection_P_Ship_Based_Surveys","text":"esas_table_2_analyse data frame containing survey data columns distance bins, platform class, transect type, observation distance, species code, behavior, count. returned Create_ESAS_Table(). species_2_analyse vector species codes encoded species column Observations table ESAS Data Model. See Species page Data Model.","code":""},{"path":"https://inbo.github.io/esas/reference/Calculate_Detection_P_Ship_Based_Surveys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute distance analysis on ship-based survey results — Calculate_Detection_P_Ship_Based_Surveys","text":"data.frame following columns: Species: species code. Function: selected detection function (\"HR\" hazard-rate \"HN\" half-normal). Detection_P_AVG: average detection probability species.","code":""},{"path":[]},{"path":"https://inbo.github.io/esas/reference/Calculate_Detection_P_Ship_Based_Surveys.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute distance analysis on ship-based survey results — Calculate_Detection_P_Ship_Based_Surveys","text":"","code":"if (FALSE) { # \\dontrun{ # Read 4 ESAS tables: ESAS_TABLES_LIST <- Read_ESAS_Tables(   path = \"./Data/ESAS download 2024 04 30\",   file_encoding = \"UTF-8\" )  # Create an ESAS master-table: ESAS_TABLE <- Create_ESAS_Table(esas_tables_list = ESAS_TABLES_LIST)   # Execute distance analysis on selection of species: PROBABILITIES <- Calculate_Detection_P_Ship_Based_Surveys(   esas_table_2_analyse = ESAS_TABLE,   species_2_analyse = c(720, 6020) ) } # }"},{"path":"https://inbo.github.io/esas/reference/Create_ESAS_Table.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine the tables from the ESAS Data Model into a single data.frame — Create_ESAS_Table","title":"Combine the tables from the ESAS Data Model into a single data.frame — Create_ESAS_Table","text":"Analysis functions R package expect single data.frame input. function combines tables ESAS Data Model single data.frame. performs left joins ensure records CAMPAIGNS, SAMPLES, POSITIONS, OBSERVATIONS tables included. also renames Notes columns CAMPAIGNS SAMPLES tables avoid naming conflicts.","code":""},{"path":"https://inbo.github.io/esas/reference/Create_ESAS_Table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine the tables from the ESAS Data Model into a single data.frame — Create_ESAS_Table","text":"","code":"Create_ESAS_Table(esas_tables_list)"},{"path":"https://inbo.github.io/esas/reference/Create_ESAS_Table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine the tables from the ESAS Data Model into a single data.frame — Create_ESAS_Table","text":"esas_tables_list list containing ESAS tables data.frames. list include following named elements: CAMPAIGNS, SAMPLES, POSITIONS, OBSERVATIONS.","code":""},{"path":"https://inbo.github.io/esas/reference/Create_ESAS_Table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine the tables from the ESAS Data Model into a single data.frame — Create_ESAS_Table","text":"single data.frame combines information CAMPAIGNS, SAMPLES, POSITIONS, OBSERVATIONS tables.","code":""},{"path":[]},{"path":"https://inbo.github.io/esas/reference/Create_ESAS_Table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combine the tables from the ESAS Data Model into a single data.frame — Create_ESAS_Table","text":"","code":"if (FALSE) { # \\dontrun{ # Read 4 ESAS tables: ESAS_TABLES_LIST <- Read_ESAS_Tables(   path = \"./Data/ESAS download 2024 04 30\",   file_encoding = \"UTF-8\" )  # Create an ESAS master-table: ESAS_TABLE <- Create_ESAS_Table(esas_tables_list = ESAS_TABLES_LIST) } # }"},{"path":"https://inbo.github.io/esas/reference/Create_Seabird_Density_Cross_Table.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a cross-table with distance-corrected bird densities — Create_Seabird_Density_Cross_Table","title":"Create a cross-table with distance-corrected bird densities — Create_Seabird_Density_Cross_Table","text":"function processes seabird observation data create cross-table distance-corrected bird densities selected species. filters data based specific criteria, applies detection probability corrections, calculates densities per unit area. resulting table includes relevant metadata date, time, area, location.","code":""},{"path":"https://inbo.github.io/esas/reference/Create_Seabird_Density_Cross_Table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a cross-table with distance-corrected bird densities — Create_Seabird_Density_Cross_Table","text":"","code":"Create_Seabird_Density_Cross_Table(   esas_table,   probabilities,   species_selection )"},{"path":"https://inbo.github.io/esas/reference/Create_Seabird_Density_Cross_Table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a cross-table with distance-corrected bird densities — Create_Seabird_Density_Cross_Table","text":"esas_table data frame containing seabird observation data resulting Create_ESAS_Table() function. probabilities data frame containing detection probabilities different species returned Calculate_Detection_P_Ship_Based_Surveys() species_selection vector species codes include analysis encoded species column Observations table ESAS Data Model. See Species page Data Model.","code":""},{"path":"https://inbo.github.io/esas/reference/Create_Seabird_Density_Cross_Table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a cross-table with distance-corrected bird densities — Create_Seabird_Density_Cross_Table","text":"data frame containing distance-corrected bird densities selected species.","code":""},{"path":[]},{"path":"https://inbo.github.io/esas/reference/Create_Seabird_Density_Cross_Table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a cross-table with distance-corrected bird densities — Create_Seabird_Density_Cross_Table","text":"","code":"if (FALSE) { # \\dontrun{  esas_table <- Create_ESAS_Table(Read_ESAS_Tables(path = \"path_to_download\")) ESAS_DENSITIES <- Create_Seabird_Density_Cross_Table(   esas_table = esas_table,   probabilities = Calculate_Detection_P_Ship_Based_Surveys(esas_table),   species_selection = c(720, 6020) ) } # }"},{"path":"https://inbo.github.io/esas/reference/Export_ESAS_Upload_Matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Write a tab delimited csv file as expected by the ESAS upload module. — Export_ESAS_Upload_Matrix","title":"Write a tab delimited csv file as expected by the ESAS upload module. — Export_ESAS_Upload_Matrix","text":"function exports data frame tab-delimited file without row names, column names, quotes, using specified file encoding.","code":""},{"path":"https://inbo.github.io/esas/reference/Export_ESAS_Upload_Matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write a tab delimited csv file as expected by the ESAS upload module. — Export_ESAS_Upload_Matrix","text":"","code":"Export_ESAS_Upload_Matrix(table, path, filename)"},{"path":"https://inbo.github.io/esas/reference/Export_ESAS_Upload_Matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write a tab delimited csv file as expected by the ESAS upload module. — Export_ESAS_Upload_Matrix","text":"table data frame matrix exported returned Transform_ESAS_Tables_4_Upload() path Directory path file saved. filename Character string specifying name output file without extension.","code":""},{"path":"https://inbo.github.io/esas/reference/Export_ESAS_Upload_Matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write a tab delimited csv file as expected by the ESAS upload module. — Export_ESAS_Upload_Matrix","text":"(invisible) path exported file.","code":""},{"path":[]},{"path":"https://inbo.github.io/esas/reference/Export_ESAS_Upload_Matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write a tab delimited csv file as expected by the ESAS upload module. — Export_ESAS_Upload_Matrix","text":"","code":"if (FALSE) { # \\dontrun{ #Read 4 ESAS tables: ESAS_TABLES_LIST <- Read_ESAS_Tables(path = \"./Data/\",                                      file_encoding = \"UTF-8\")  #Convert tables to upload format: ESAS_4_UPLOAD <- Transform_ESAS_Tables_4_Upload(campaigns_tbl = ESAS_TABLES_LIST$CAMPAIGNS,                                                 samples_tbl = ESAS_TABLES_LIST$SAMPLES,                                                 positions_tbl = ESAS_TABLES_LIST$POSITIONS,                                                 observations_tbl = ESAS_TABLES_LIST$OBSERVATIONS,                                                 data_provider = \"202\",                                                 country = \"BE\")  #Export upload table: Export_ESAS_Upload_Matrix(table = ESAS_4_UPLOAD,                           path = \"./Output/\",                           export_name = \"ESAS_4_upload\") } # }"},{"path":"https://inbo.github.io/esas/reference/Read_ESAS_Tables.html","id":null,"dir":"Reference","previous_headings":"","what":"Read csv files and combine them into a single data.frame — Read_ESAS_Tables","title":"Read csv files and combine them into a single data.frame — Read_ESAS_Tables","text":"Read 4 csv files (CAMPAIGNS, SAMPLES, POSITIONS, OBSERVATIONS) combine list data.frames.","code":""},{"path":"https://inbo.github.io/esas/reference/Read_ESAS_Tables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read csv files and combine them into a single data.frame — Read_ESAS_Tables","text":"","code":"Read_ESAS_Tables(path, file_encoding = \"UTF-8\")"},{"path":"https://inbo.github.io/esas/reference/Read_ESAS_Tables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read csv files and combine them into a single data.frame — Read_ESAS_Tables","text":"path (Character.) Path directory containing 4 csv files returned ESAS Data inventory. contain files: \"Campaigns.csv\", \"Samples.csv\", \"Positions.csv\" \"Observations.csv\". file_encoding (Character.) File encoding. Default \"UTF-8\".","code":""},{"path":"https://inbo.github.io/esas/reference/Read_ESAS_Tables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read csv files and combine them into a single data.frame — Read_ESAS_Tables","text":"list 4 data.frames: CAMPAIGNS, SAMPLES, POSITIONS, OBSERVATIONS.","code":""},{"path":"https://inbo.github.io/esas/reference/Transform_ESAS_Tables_4_Upload.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine the 5 tables from the ESAS Data Model to a single data.frame as preparation for uploading — Transform_ESAS_Tables_4_Upload","title":"Combine the 5 tables from the ESAS Data Model to a single data.frame as preparation for uploading — Transform_ESAS_Tables_4_Upload","text":"resulting data.frame 18 columns, first column \"RecordType\" indicates type record (FI, EC, ES, EP, EO). remaining columns filled respective data input tables.","code":""},{"path":"https://inbo.github.io/esas/reference/Transform_ESAS_Tables_4_Upload.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine the 5 tables from the ESAS Data Model to a single data.frame as preparation for uploading — Transform_ESAS_Tables_4_Upload","text":"","code":"Transform_ESAS_Tables_4_Upload(   campaigns_tbl,   samples_tbl,   positions_tbl,   observations_tbl,   data_provider,   country )"},{"path":"https://inbo.github.io/esas/reference/Transform_ESAS_Tables_4_Upload.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine the 5 tables from the ESAS Data Model to a single data.frame as preparation for uploading — Transform_ESAS_Tables_4_Upload","text":"campaigns_tbl (data.frame) campaigns table returned Read_ESAS_Tables()$CAMPAIGNS samples_tbl (data.frame) samples table returned Read_ESAS_Tables()$SAMPLES positions_tbl (data.frame) positions table returned Read_ESAS_Tables()$POSITIONS observations_tbl (data.frame) observations table returned Read_ESAS_Tables()$OBSERVATIONS data_provider (integer) code data provider described ESAS Data Model file information table. country (character) ISO_3166 country code data provider. example: \"\".","code":""},{"path":"https://inbo.github.io/esas/reference/Transform_ESAS_Tables_4_Upload.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine the 5 tables from the ESAS Data Model to a single data.frame as preparation for uploading — Transform_ESAS_Tables_4_Upload","text":"(data.frame) 18 columns number rows equal sum rows input tables plus one (file information row).","code":""},{"path":[]},{"path":"https://inbo.github.io/esas/reference/Transform_ESAS_Tables_4_Upload.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combine the 5 tables from the ESAS Data Model to a single data.frame as preparation for uploading — Transform_ESAS_Tables_4_Upload","text":"","code":"if (FALSE) { # \\dontrun{ ESAS_TABLES_LIST <-   Read_ESAS_Tables(     path = \"local_folder_with_downloaded_files\",     file_encoding = \"UTF-8\"   )  Transform_ESAS_Tables_4_Upload(   campaigns_tbl = ESAS_TABLES_LIST$CAMPAIGNS,   samples_tbl = ESAS_TABLES_LIST$SAMPLES,   positions_tbl = ESAS_TABLES_LIST$POSITIONS,   observations_tbl = ESAS_TABLES_LIST$OBSERVATIONS,   data_provider = \"202\",   country = \"BE\" ) } # }"},{"path":"https://inbo.github.io/esas/reference/esas-package.html","id":null,"dir":"Reference","previous_headings":"","what":"esas: Read and Process Data from European Seabirds At Sea — esas-package","title":"esas: Read and Process Data from European Seabirds At Sea — esas-package","text":"Read process data European Seabirds Sea ('ESAS').","code":""},{"path":[]},{"path":"https://inbo.github.io/esas/reference/esas-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"esas: Read and Process Data from European Seabirds At Sea — esas-package","text":"Maintainer: Pieter Huybrechts pieter.huybrechts@inbo.(ORCID) (Research Institute Nature Forest (INBO)) Authors: Nicolas Vanermen nicolas.vanermen@inbo.(ORCID) (Research Institute Nature Forest (INBO)) contributors: Robin Daelemans robin.daelemans@inbo.(ORCID) (Research Institute Nature Forest (INBO)) [contributor] Peter Desmet peter.desmet@inbo.(ORCID) (Research Institute Nature Forest (INBO)) [contributor] Research Institute Nature Forest (INBO) (00j54wy13) [copyright holder] European Union (https://doi.org/10.3030/101112823) [funder]","code":""},{"path":"https://inbo.github.io/esas/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://inbo.github.io/esas/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://inbo.github.io/esas/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://inbo.github.io/esas/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""}]
